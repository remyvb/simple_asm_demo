connect sys/<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['sys_password'] %>@<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['db_unique_name'] %>;
create configuration 'dg_config' as  primary database is '<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['db_unique_name'] %>' connect identifier is <%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['db_unique_name'] %>;
add database '<%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['db_unique_name'] %>' as connect identifier is <%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['db_unique_name'] %>;
edit database '<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['db_unique_name'] %>' set property StaticConnectIdentifier='(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['db_hostname'] %>)(PORT=<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['db_port'] %>))(CONNECT_DATA=(SERVICE_NAME=<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['service_name'] %>)(INSTANCE_NAME=<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['instance_name'] %>)(SERVER=DEDICATED)))';
edit database '<%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['db_unique_name'] %>' set property StaticConnectIdentifier='(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=<%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['db_hostname'] %>)(PORT=<%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['db_port'] %>))(CONNECT_DATA=(SERVICE_NAME=<%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['service_name'] %>)(INSTANCE_NAME=<%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['instance_name'] %>)(SERVER=DEDICATED)))';
enable configuration;
validate database verbose '<%= scope['::profile::oradb::setup_dg::dgconfig']['primary']['db_unique_name'] %>';
validate database verbose '<%= scope['::profile::oradb::setup_dg::dgconfig']['standby']['db_unique_name'] %>';
